"use client"

import { useEffect, useMemo, useState } from "react"

type Project = {
  id: string
  name: string
  logo?: string
  categories: string[]
  website?: string
  social?: string
  description?: string
}

const STORAGE_KEY = "hl_admin_projects"

const CATEGORY_OPTIONS = [
  "热门",
  "最新",
  "DeFi",
  "基础设施",
  "AI",
  "数据",
  "工具",
  "支付",
  "NFT",
  "迷因币",
  "手机端",
  "社区",
]
const MAX_DESC = 120

function uid() {
  return Math.random().toString(36).slice(2, 10)
}

export default function AdminPage() {
  const [name, setName] = useState("")
  const [logo, setLogo] = useState("")
  const [categories, setCategories] = useState<string[]>([])
  const [website, setWebsite] = useState("")
  const [social, setSocial] = useState("")
  const [description, setDescription] = useState("")
  const [editId, setEditId] = useState<string | null>(null)

  const [list, setList] = useState<Project[]>([])
  const [q, setQ] = useState("")

  // Load from localStorage
  useEffect(() => {
